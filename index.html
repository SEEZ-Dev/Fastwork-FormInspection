<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Approved Process Check Sheet :TM</title>
  <link href="https://fonts.googleapis.com/css2?family=Prompt:wght@300;400;500;600&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg: #f8f9fa;
      --fg: #2c3e50;
      --panel: #ffffff;
      --accent: #3498db;
      --success: #2ecc71;
      --error: #e74c3c;
      --input-bg: #ffffff;
      --input-border: #e0e0e0;
      --shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    .dark {
      --bg: #1a1a1a;
      --fg: #ecf0f1;
      --panel: #2c2c2c;
      --input-bg: #333333;
      --input-border: #444444;
      --shadow: 0 2px 4px rgba(0,0,0,0.3);
    }
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    body {
      font-family: 'Prompt', sans-serif;
      background: var(--bg);
      color: var(--fg);
      padding: 2rem;
      transition: all 0.3s ease;
      line-height: 1.6;
    }
    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 2rem;
      padding: 1rem;
      background: var(--panel);
      border-radius: 8px;
      box-shadow: var(--shadow);
    }
    h1 {
      font-size: 1.5rem;
      font-weight: 600;
      color: var(--accent);
    }
    form section {
      background: var(--panel);
      padding: 1.5rem;
      border-radius: 8px;
      margin-bottom: 1.5rem;
      box-shadow: var(--shadow);
    }
    h2 {
      margin-bottom: 1rem;
      font-size: 1.2rem;
      color: var(--accent);
      font-weight: 500;
    }
    .grid {
      display: grid;
      gap: 1rem;
    }
    .grid-2 {
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    }
    .grid-4 {
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    }
    label {
      display: block;
      font-size: 0.9rem;
      margin-bottom: 0.5rem;
      color: var(--fg);
      font-weight: 400;
    }
    input, select, button {
      width: 100%;
      padding: 0.75rem;
      border: 1px solid var(--input-border);
      border-radius: 6px;
      font-size: 1rem;
      background: var(--input-bg);
      color: var(--fg);
      transition: all 0.3s ease;
    }
    input:focus, select:focus {
      outline: none;
      border-color: var(--accent);
      box-shadow: 0 0 0 2px rgba(52, 152, 219, 0.2);
    }
    button {
      background: var(--accent);
      color: white;
      border: none;
      cursor: pointer;
      font-weight: 500;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
    button:hover {
      opacity: 0.9;
      transform: translateY(-1px);
    }
    button:disabled {
      opacity: 0.7;
      cursor: not-allowed;
      transform: none;
    }
    #themeToggle {
      width: auto;
      padding: 0.5rem 1rem;
      font-size: 1.2rem;
    }
    .notification {
      position: fixed;
      top: 20px;
      right: 20px;
      padding: 1rem 2rem;
      border-radius: 6px;
      color: white;
      font-weight: 500;
      animation: slideIn 0.3s ease;
      z-index: 1000;
    }
    .success {
      background: var(--success);
    }
    .error {
      background: var(--error);
    }
    @keyframes slideIn {
      from { transform: translateX(100%); opacity: 0; }
      to { transform: translateX(0); opacity: 1; }
    }
    .loading {
      position: relative;
    }
    .loading::after {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 20px;
      height: 20px;
      margin: -10px 0 0 -10px;
      border: 2px solid rgba(255,255,255,0.3);
      border-top-color: white;
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }
    @keyframes spin {
      to { transform: rotate(360deg); }
    }
  </style>
</head>
<body>
  <header>
    <h1>Approved Process Check Sheet :TM</h1>
    <button id="themeToggle">üåì</button>
  </header>
  <form id="f">
    <!-- ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ -->
    <section>
      <h2>‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ</h2>
      <div class="grid grid-2">
        <div><label>‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏±‡∏Å‡∏£</label><input name="machine" required></div>
        <div><label>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà</label><input type="date" name="date" required></div>
        <div><label>‡πÉ‡∏ö‡∏™‡∏±‡πà‡∏á‡∏ú‡∏•‡∏¥‡∏ï‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà</label><input name="orderNumber" required></div>
        <div><label>Size ‡∏ó‡∏µ‡πà‡∏ú‡∏•‡∏¥‡∏ï</label><input name="productionSize" required></div>
        <div><label>‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡∏ï‡∏£‡∏ß‡∏à‡πÄ‡∏ä‡πá‡∏Ñ</label><input type="time" name="checkTime" required></div>
        <div><label>‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏Å‡∏≤‡∏£‡∏û‡πà‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏´‡∏°‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏≤</label><input name="trademarkDetails" required></div>
      </div>
    </section>
    <!-- ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏´‡∏°‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏≤ -->
    <section>
      <h2>‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏´‡∏°‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏≤</h2>
      <div class="grid grid-2">
        <div><label>Size ‡∏à‡∏≤‡∏Å</label><input name="sizeFrom" required></div>
        <div><label>Size ‡πÄ‡∏õ‡πá‡∏ô</label><input name="sizeTo" required></div>
        <div><label>‡∏´‡∏ô‡∏≤ ‡∏à‡∏≤‡∏Å</label><input name="thicknessFrom" required></div>
        <div><label>‡∏´‡∏ô‡∏≤ ‡πÄ‡∏õ‡πá‡∏ô</label><input name="thicknessTo" required></div>
      </div>
    </section>
    <!-- 1. ‡∏ï‡∏£‡∏ß‡∏à‡πÄ‡∏ä‡πá‡∏Ñ‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö -->
    <section>
      <h2>1. ‡∏ï‡∏£‡∏ß‡∏à‡πÄ‡∏ä‡πá‡∏Ñ‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö</h2>
      <div class="grid grid-2">
        <div><label>‡∏´‡∏ô‡πâ‡∏≤‡∏Å‡∏ß‡πâ‡∏≤‡∏á ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á 1 (mm)</label><input type="number" name="width1" step="0.01"></div>
        <div><label>‡∏´‡∏ô‡πâ‡∏≤‡∏Å‡∏ß‡πâ‡∏≤‡∏á ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á 2 (mm)</label><input type="number" name="width2" step="0.01"></div>
        <div><label>‡∏´‡∏ô‡∏≤ ‡∏Ç‡∏≠‡∏ö‡∏ã‡πâ‡∏≤‡∏¢ (mm)</label><input type="number" name="thickLeft" step="0.01"></div>
        <div><label>‡∏´‡∏ô‡∏≤ ‡∏Ç‡∏≠‡∏ö‡∏Ç‡∏ß‡∏≤ (mm)</label><input type="number" name="thickRight" step="0.01"></div>
        <div>
          <label>‡∏£‡∏≠‡∏¢‡∏Ñ‡∏°‡πÄ‡∏´‡∏•‡πá‡∏Å‡∏≠‡∏¢‡∏π‡πà‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô</label>
          <select name="edgeUp" required>
            <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å --</option>
            <option value="yes">‡πÉ‡∏ä‡πà</option>
            <option value="no">‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà</option>
          </select>
        </div>
        <div>
          <label>‡∏•‡∏±‡∏Å‡∏©‡∏ì‡∏∞‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ</label>
          <select name="surface" required>
            <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å --</option>
            <option value="normal">‡∏õ‡∏Å‡∏ï‡∏¥</option>
            <option value="rust">‡∏™‡∏ô‡∏¥‡∏°</option>
            <option value="wavy">‡∏Ç‡∏≠‡∏ö‡∏û‡∏£‡∏¥‡πâ‡∏ß</option>
          </select>
        </div>
      </div>
    </section>
    <!-- 2. ‡∏Å‡∏≤‡∏£ Set up ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á -->
    <section>
      <h2>2. ‡∏Å‡∏≤‡∏£ Set up ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á</h2>
      <div class="grid grid-2">
        <div>
          <label>‡∏™‡∏†‡∏≤‡∏û‡∏•‡∏π‡∏Å‡∏£‡∏µ‡∏î</label>
          <select name="rollCondition" required>
            <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å --</option>
            <option value="good">‡πÑ‡∏°‡πà‡∏™‡∏∂‡∏Å</option>
            <option value="worn">‡∏™‡∏∂‡∏Å</option>
          </select>
        </div>
        <div>
          <label>Center Line Roll</label>
          <select name="centerLine" required>
            <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å --</option>
            <option value="aligned">‡∏ï‡∏£‡∏á</option>
            <option value="misaligned">‡πÑ‡∏°‡πà‡∏ï‡∏£‡∏á</option>
          </select>
        </div>
        <div>
          <label>‡∏Å‡∏≤‡∏£‡πÉ‡∏™‡πà‡∏•‡∏π‡∏Å‡∏£‡∏µ‡∏î‡πÅ‡∏ï‡πà‡∏•‡∏∞ Stand</label>
          <select name="standFit" required>
            <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å --</option>
            <option value="correct">‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á</option>
            <option value="incorrect">‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á</option>
          </select>
        </div>
        <div>
          <label>‡∏ô‡πâ‡∏≥‡∏´‡∏•‡πà‡∏≠‡πÄ‡∏¢‡πá‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡πÅ‡∏Å‡∏ô‡πÄ‡∏Ñ‡∏™</label>
          <select name="coolantIn" required>
            <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å --</option>
            <option value="normal">‡∏õ‡∏Å‡∏ï‡∏¥</option>
            <option value="abnormal">‡πÑ‡∏°‡πà‡∏õ‡∏Å‡∏ï‡∏¥</option>
          </select>
        </div>
        <div>
          <label>‡∏Ç‡πâ‡∏≠‡∏ï‡πà‡∏≠‡πÅ‡∏Å‡∏ô‡πÄ‡∏Ñ‡∏™</label>
          <select name="caseJoint" required>
            <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å --</option>
            <option value="normal">‡∏õ‡∏Å‡∏ï‡∏¥</option>
            <option value="abnormal">‡πÑ‡∏°‡πà‡∏õ‡∏Å‡∏ï‡∏¥</option>
          </select>
        </div>
        <div><label>Impeder Core O.D. (mm)</label><input type="number" name="impederOD" step="0.01"></div>
        <div><label>Working Coil I.D. (mm)</label><input type="number" name="coilID" step="0.01"></div>
        <div>
          <label>‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó Working Coil</label>
          <select name="coilType" required>
            <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å --</option>
            <option value="clean">‡∏™‡∏∞‡∏≠‡∏≤‡∏î</option>
            <option value="dirty">‡πÑ‡∏°‡πà‡∏™‡∏∞‡∏≠‡∏≤‡∏î</option>
          </select>
        </div>
      </div>
    </section>
    <!-- 3. ‡∏Ñ‡πà‡∏≤‡∏û‡∏≤‡∏£‡∏≤‡∏°‡∏¥‡πÄ‡∏ï‡∏≠‡∏£‡πå -->
    <section>
      <h2>3. ‡∏Ñ‡πà‡∏≤‡∏û‡∏≤‡∏£‡∏≤‡∏°‡∏¥‡πÄ‡∏ï‡∏≠‡∏£‡πå‡πÉ‡∏ô‡∏Ç‡∏ì‡∏∞‡πÄ‡∏î‡∏¥‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á</h2>
      <div class="grid grid-2">
        <div><label>Speed (M/min)</label><input type="number" name="speed" step="0.1"></div>
        <div><label>Power (KW)</label><input type="number" name="power" step="0.1"></div>
        <div><label>Voltage (V)</label><input type="number" name="voltage" step="0.1"></div>
        <div><label>Current (A)</label><input type="number" name="current" step="0.1"></div>
      </div>
    </section>
    <!-- 4. ‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡∏ä‡∏¥‡πâ‡∏ô‡∏á‡∏≤‡∏ô -->
    <section>
      <h2>4. ‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡∏ä‡∏¥‡πâ‡∏ô‡∏á‡∏≤‡∏ô</h2>
      <div class="grid grid-4">
        <div><label>O.D. ‡∏£‡∏ß‡∏° Min (mm)</label><input type="number" name="odMin" step="0.01"></div>
        <div><label>O.D. ‡∏£‡∏ß‡∏° Max (mm)</label><input type="number" name="odMax" step="0.01"></div>
        <div><label>Tolerance ‚â§ %</label><input type="number" name="tolerance" step="0.01"></div>
        <div><label>Surface Flatness (¬∞)</label><input type="number" name="flatness" step="0.01"></div>
      </div>
    </section>
    <section>
      <button type="submit">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</button>
    </section>
  </form>

  <script>
    // Theme toggle
    document.getElementById('themeToggle').addEventListener('click', () => {
      document.documentElement.classList.toggle('dark');
      localStorage.setItem('theme', document.documentElement.classList.contains('dark') ? 'dark' : 'light');
    });

    // Load saved theme
    if (localStorage.getItem('theme') === 'dark') {
      document.documentElement.classList.add('dark');
    }

    // Show notification
    function showNotification(message, type = 'success') {
      const notification = document.createElement('div');
      notification.className = `notification ${type}`;
      notification.textContent = message;
      document.body.appendChild(notification);
      setTimeout(() => {
        notification.remove();
      }, 3000);
    }

    // Form submission
    document.getElementById('f').addEventListener('submit', async e => {
      e.preventDefault();
      const btn = e.target.querySelector('button');
      btn.disabled = true;
      btn.classList.add('loading');
      btn.textContent = '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å...';

      const formData = new FormData(e.target);
      const data = Object.fromEntries(formData);
      
      // Add metadata
      data.timestamp = new Date().toISOString();
      data.deviceId = 'TM-PROCESS-CHECK';
      data.version = '1.0.0';

      try {
        // const res = await fetch('http://localhost:1880/process-check', {
        //   method: 'POST',
        //   headers: {
        //     'Content-Type': 'application/json',
        //     'Accept': 'application/json'
        //   },
        //   body: JSON.stringify(data)
        // });
        console.log(JSON.stringify(data));
        if (!res.ok) {
          throw new Error(`HTTP error! status: ${res.status}`);
        }

        const result = await res.json();
        showNotification('‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à');
        e.target.reset();
      } catch (err) {
        console.error('Error:', err);
        showNotification(`‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î: ${err.message}`, 'error');
      } finally {
        btn.disabled = false;
        btn.classList.remove('loading');
        btn.textContent = '‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•';
      }
    });

    // Form validation
    document.querySelectorAll('input[type="number"]').forEach(input => {
      input.addEventListener('input', e => {
        const value = parseFloat(e.target.value);
        if (isNaN(value)) {
          e.target.value = '';
        }
      });
    });
  </script>
</body>
</html>
